<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="apply_inherit" inherit_id="website_hr_recruitment.apply">
            <xpath expr="//input[@name='job_id']" position="replace">
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="department_id">Department</label>
                    <div class="col-md-7 col-sm-8">
                        <t t-set="departments" t-value="job.env['hr.department'].search([])"/>
                        <select class="form-control" name="department_id" required="True">
                            <t t-foreach="departments" t-as="dept">
                                <option t-att-value="dept.id">
                                    <t t-esc="dept.name"/>
                                </option>
                            </t>
                        </select>
                    </div>
                </div>
            </xpath>
            <xpath expr="//section[@id='forms']//div[4]" position="after">
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="address">Address</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" t-att-value="default.get('address')" class="form-control" name="address"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="city">City</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" t-att-value="default.get('city')" class="form-control" name="city"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="marital_status">Marital Status</label>
                    <div class="col-md-7 col-sm-8">
                        <select class="form-control" name="marital_status">
                            <option value="single">
                                Single
                            </option>
                            <option value="married">
                                Married
                            </option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="current_job">Current Job</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" t-att-value="default.get('current_job')" class="form-control" name="current_job"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="offered_skills">Skills you offer</label>
                    <div class="col-md-7 col-sm-8">
                        <textarea t-att-value="default.get('offered_skills')" class="form-control" name="offered_skills"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="courses">Courses you got</label>
                    <div class="col-md-7 col-sm-8">
                        <textarea t-att-value="default.get('courses')" class="form-control" name="courses"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="da3wa_experience">Previous Da3wa Experience</label>
                    <div class="col-md-7 col-sm-8">
                        <textarea t-att-value="default.get('da3wa_experience')" class="form-control" name="da3wa_experience"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="facebook_url">Facebook URL</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" t-att-value="default.get('facebook_url')" class="form-control" name="facebook_url"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="know_ahlan_how">How did you know about Ahlan?</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" t-att-value="default.get('know_ahlan_how')" class="form-control" name="know_ahlan_how"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="notes">Notes</label>
                    <div class="col-md-7 col-sm-8">
                        <textarea t-att-value="default.get('notes')" class="form-control" name="notes"/>
                    </div>
                </div>
            </xpath>
        </template>

        <record model="ir.ui.view" id="crm_case_form_view_job">
            <field name="name">jobs.recruitment.form.inherit</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.crm_case_form_view_job"/>
            <field name="arch" type="xml">
                <field name="categ_ids" position="after">
                    <field name="address"/>
                    <field name="city"/>
                    <field name="marital_status"/>
                    <field name="academic_degree"/>
                    <field name="current_job"/>
                    <field name="languages"/>
                    <field name="offered_skills"/>
                    <field name="courses"/>
                    <field name="da3wa_experience"/>
                    <field name="facebook_url"/>
                    <field name="know_ahlan_how"/>
                    <field name="notes"/>
                </field>
            </field>
        </record>
        
        <record id="crm_case_form_view_oppor_inherit_ahlan_customizations" model="ir.ui.view">
            <field name="name">Opportunities.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/div[2]" position="replace"/>
                <button name="case_escalate" position="replace"/>
                <field name="partner_id" position="attributes">
                    <attribute name="attrs">{'required': True}</attribute>
                    <attribute name="string">Case</attribute>
                </field>
                <field name="partner_id" position="after">
                    <field name="first_time_meeting"/>
                    <field name="gender"/>
                    <field name="religion"/>
                </field>

                <!-- Fields removed from main sheet -->
                <field name="date_action" position="replace"/>
                <field name="title_action" position="replace"/>
                <label string="-" position="replace"/>
                <field name="date_deadline" position="replace"/>

                <!-- Fields removed from "lead" page-->
                <group name="mailings" position="replace"/>
                <group string="Misc" position="replace"/>
                <group string="References" position="replace"/>
                <field name="contact_name" position="replace"/>
                <label for="contact_name" position="replace"/>
                <field name="title" position="replace"/>
                <field name="function" position="replace"/>
                <field name="mobile" position="replace"/>
                <field name="fax" position="replace"/>
                <field name="partner_name" position="replace"/>

                <field name="country_id" position="after">
                    <field name="region" placeholder="Region"/>
                </field>

                <page string="Lead" position="attributes">
                    <attribute name="string">Where</attribute>
                </page>
                <page string="Internal Notes" position="attributes">
                    <attribute name="string">Comment</attribute>
                </page>

                <notebook position="inside">
                    <page string="Social Media">
                        <field name="social_media"/>
                        <group>
                            <field name="page_name"/>
                            <field name="page_type"/>
                            <field name="page_subject"/>
                            <field name="page_link"/>
                        </group>
                        <group>
                            <field name="post_subject"/>
                            <field name="post_link"/>
                            <field name="engagement_type"/>
                            <field name="feedback_type"/>
                            <field name="feedback"/>
                        </group>
                    </page>
                </notebook>
            </field>
        </record>

        <record id="crm_case_form_view_oppor_inherit_ahlan_customizations2" model="ir.ui.view">
            <field name="name">CRM - Opportunities - Quote Inherit2</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="sale_crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <button name="%(sale_crm.action_crm_make_sale)d" string="Create Quotation" position="replace"/>
                <button name="%(sale_crm.action_crm_make_sale)d" string="Convert to Quotation" position="replace"/>
            </field>
        </record>
        
        <record id="view_crm_opportunity_form_inherit_ahlan_customizations" model="ir.ui.view">
            <field name="name">crm.lead.inherit.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="marketing_crm.view_crm_opportunity_form"/>
            <field name="arch" type="xml">
                <group string="Marketing" position="replace"/>
            </field>
        </record>
    </data>
</openerp>
